{"cells":[{"cell_type":"markdown","metadata":{"id":"c4La-AuRL0vq"},"source":["# Challenge 2\n","\n","In this challenge we will continue working with the `Pokemon` dataset. We will attempt solving a slightly more complex problem in which we will practice the iterative data analysis process you leaned in [this video](https://www.youtube.com/watch?v=xOomNicqbkk).\n","\n","The problem statement is as follows:\n","\n","**You are at a Pokemon black market planning to buy a Pokemon for battle. All Pokemon are sold at the same price and you can only afford to buy one. You cannot choose which specific Pokemon to buy. However, you can specify the type of the Pokemon - one type that exists in either `Type 1` or `Type 2`. Which type should you choose in order to maximize your chance of receiving a good Pokemon?**\n","\n","To remind you about the 3 steps of iterative data analysis, they are:\n","\n","1. Setting Expectations\n","1. Collecting Information\n","1. Reacting to Data / Revising Expectations\n","\n","Following the iterative process, we'll guide you in completing the challenge."]},{"cell_type":"markdown","metadata":{"id":"x-tFFYCRL0vs"},"source":["\n","## Problem Solving Iteration 1\n","\n","In this iteration we'll analyze the problem and identify the breakthrough. The original question statement is kind of vague because we don't know what a *good pokemon* really means as represented in the data. We'll start by understanding the dataset and see if we can find some insights."]},{"cell_type":"code","execution_count":1,"metadata":{"id":"P42sfBISL0vs","executionInfo":{"status":"ok","timestamp":1721152073021,"user_tz":-120,"elapsed":2544,"user":{"displayName":"David Arques","userId":"16424418859302897863"}}},"outputs":[],"source":["# üìö Basic Libraries\n","import pandas as pd\n","import numpy as np\n","import warnings\n","import os\n","import plotly.express as px\n","\n","# üìä Visualizations\n","import matplotlib.pyplot as plt\n","import matplotlib.cm as cm\n","import seaborn as sns\n","\n","# ü§ñ Machine Learning\n","from sklearn.model_selection import train_test_split\n","from sklearn.metrics import roc_curve, confusion_matrix, ConfusionMatrixDisplay\n","from sklearn.metrics import classification_report\n","\n","# ‚öôÔ∏è Settings\n","pd.set_option('display.max_columns', None) # display all columns\n","warnings.filterwarnings('ignore') # ignore warnings\n","\n","# üîß Basic functions\n","def snake_columns(data):\n","    \"\"\"\n","    Standarize and returns snake_case columns\n","    \"\"\"\n","    data.columns = [column.lower().replace(' ', '_') for column in data.columns]"]},{"cell_type":"code","execution_count":2,"metadata":{"scrolled":true,"id":"E20ZPgfZL0vt","executionInfo":{"status":"ok","timestamp":1721152073021,"user_tz":-120,"elapsed":6,"user":{"displayName":"David Arques","userId":"16424418859302897863"}}},"outputs":[],"source":["# Importing the dataset\n","os.listdir()\n","data = pd.read_csv('Pokemon (1).csv')\n","df = data.copy()"]},{"cell_type":"code","source":["df.shape"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"FrZBOWPCMKpM","executionInfo":{"status":"ok","timestamp":1721152073021,"user_tz":-120,"elapsed":6,"user":{"displayName":"David Arques","userId":"16424418859302897863"}},"outputId":"fa3d921b-a3b3-4819-f8fe-13a50b24e464"},"execution_count":3,"outputs":[{"output_type":"execute_result","data":{"text/plain":["(800, 13)"]},"metadata":{},"execution_count":3}]},{"cell_type":"markdown","metadata":{"id":"PxtgK7IKL0vt"},"source":["From the data it seems whether a pokemon is good depends on its abilities as represented in the fields of `HP`, `Attack`, `Defense`, `Sp. Atk`, `Sp. Def`, `Speed`, and `Total`. We are not sure about `Generation` and `Legendary` because they are not necessarily the decisive factors of the pokemon abilities.\n","\n","But `HP`, `Attack`, `Defense`, `Sp. Atk`, `Sp. Def`, `Speed`, and `Total` are a lot of fields! If we look at them all at once it's very complicated. This isn't Mission Impossible but it's ideal that we tackle this kind of problem after we learn Machine Learning (which you will do in Module 3). For now, is there a way to consolidate the fields we need to look into?\n","\n","Fortunately there seems to be a way. It appears the `Total` field is computed based on the other 6 fields. But we need to prove our theory. If we can approve there is a formula to compute `Total` based on the other 6 abilities, we only need to look into `Total`.\n","\n","We have the following expectation now:\n","\n","#### The `Total` field is computed based on `HP`, `Attack`, `Defense`, `Sp. Atk`, `Sp. Def`, and `Speed`.\n","\n","We need to collect the following information:\n","\n","* **What is the formula to compute `Total`?**\n","* **Does the formula work for all pokemon?**\n","\n","In the cell below, make a hypothesis on how `Total` is computed and test your hypothesis."]},{"cell_type":"code","source":["df.head(5)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":206},"id":"0F6h_1buM4Oz","executionInfo":{"status":"ok","timestamp":1721152073022,"user_tz":-120,"elapsed":5,"user":{"displayName":"David Arques","userId":"16424418859302897863"}},"outputId":"67401974-f654-47bc-9794-291b6a182ec4"},"execution_count":4,"outputs":[{"output_type":"execute_result","data":{"text/plain":["   #                   Name Type 1  Type 2  Total  HP  Attack  Defense  \\\n","0  1              Bulbasaur  Grass  Poison    318  45      49       49   \n","1  2                Ivysaur  Grass  Poison    405  60      62       63   \n","2  3               Venusaur  Grass  Poison    525  80      82       83   \n","3  3  VenusaurMega Venusaur  Grass  Poison    625  80     100      123   \n","4  4             Charmander   Fire     NaN    309  39      52       43   \n","\n","   Sp. Atk  Sp. Def  Speed  Generation  Legendary  \n","0       65       65     45           1      False  \n","1       80       80     60           1      False  \n","2      100      100     80           1      False  \n","3      122      120     80           1      False  \n","4       60       50     65           1      False  "],"text/html":["\n","  <div id=\"df-11b01f5a-b4f2-4e85-bd06-df4067bfc574\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>#</th>\n","      <th>Name</th>\n","      <th>Type 1</th>\n","      <th>Type 2</th>\n","      <th>Total</th>\n","      <th>HP</th>\n","      <th>Attack</th>\n","      <th>Defense</th>\n","      <th>Sp. Atk</th>\n","      <th>Sp. Def</th>\n","      <th>Speed</th>\n","      <th>Generation</th>\n","      <th>Legendary</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>1</td>\n","      <td>Bulbasaur</td>\n","      <td>Grass</td>\n","      <td>Poison</td>\n","      <td>318</td>\n","      <td>45</td>\n","      <td>49</td>\n","      <td>49</td>\n","      <td>65</td>\n","      <td>65</td>\n","      <td>45</td>\n","      <td>1</td>\n","      <td>False</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2</td>\n","      <td>Ivysaur</td>\n","      <td>Grass</td>\n","      <td>Poison</td>\n","      <td>405</td>\n","      <td>60</td>\n","      <td>62</td>\n","      <td>63</td>\n","      <td>80</td>\n","      <td>80</td>\n","      <td>60</td>\n","      <td>1</td>\n","      <td>False</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>3</td>\n","      <td>Venusaur</td>\n","      <td>Grass</td>\n","      <td>Poison</td>\n","      <td>525</td>\n","      <td>80</td>\n","      <td>82</td>\n","      <td>83</td>\n","      <td>100</td>\n","      <td>100</td>\n","      <td>80</td>\n","      <td>1</td>\n","      <td>False</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>3</td>\n","      <td>VenusaurMega Venusaur</td>\n","      <td>Grass</td>\n","      <td>Poison</td>\n","      <td>625</td>\n","      <td>80</td>\n","      <td>100</td>\n","      <td>123</td>\n","      <td>122</td>\n","      <td>120</td>\n","      <td>80</td>\n","      <td>1</td>\n","      <td>False</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>4</td>\n","      <td>Charmander</td>\n","      <td>Fire</td>\n","      <td>NaN</td>\n","      <td>309</td>\n","      <td>39</td>\n","      <td>52</td>\n","      <td>43</td>\n","      <td>60</td>\n","      <td>50</td>\n","      <td>65</td>\n","      <td>1</td>\n","      <td>False</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-11b01f5a-b4f2-4e85-bd06-df4067bfc574')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-11b01f5a-b4f2-4e85-bd06-df4067bfc574 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-11b01f5a-b4f2-4e85-bd06-df4067bfc574');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-7ae61c0c-c62a-44a6-bd07-2c4d9d9c19de\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-7ae61c0c-c62a-44a6-bd07-2c4d9d9c19de')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-7ae61c0c-c62a-44a6-bd07-2c4d9d9c19de button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"df","summary":"{\n  \"name\": \"df\",\n  \"rows\": 800,\n  \"fields\": [\n    {\n      \"column\": \"#\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 208,\n        \"min\": 1,\n        \"max\": 721,\n        \"num_unique_values\": 721,\n        \"samples\": [\n          260,\n          659,\n          78\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Name\",\n      \"properties\": {\n        \"dtype\": \"string\",\n        \"num_unique_values\": 800,\n        \"samples\": [\n          \"Hydreigon\",\n          \"Beheeyem\",\n          \"Growlithe\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Type 1\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 18,\n        \"samples\": [\n          \"Grass\",\n          \"Fire\",\n          \"Fairy\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Type 2\",\n      \"properties\": {\n        \"dtype\": \"category\",\n        \"num_unique_values\": 18,\n        \"samples\": [\n          \"Poison\",\n          \"Flying\",\n          \"Steel\"\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Total\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 119,\n        \"min\": 180,\n        \"max\": 780,\n        \"num_unique_values\": 200,\n        \"samples\": [\n          700,\n          349,\n          505\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"HP\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 25,\n        \"min\": 1,\n        \"max\": 255,\n        \"num_unique_values\": 94,\n        \"samples\": [\n          106,\n          81,\n          170\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Attack\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 32,\n        \"min\": 5,\n        \"max\": 190,\n        \"num_unique_values\": 111,\n        \"samples\": [\n          79,\n          63,\n          52\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Defense\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 31,\n        \"min\": 5,\n        \"max\": 230,\n        \"num_unique_values\": 103,\n        \"samples\": [\n          20,\n          88,\n          23\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Sp. Atk\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 32,\n        \"min\": 10,\n        \"max\": 194,\n        \"num_unique_values\": 105,\n        \"samples\": [\n          58,\n          150,\n          160\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Sp. Def\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 27,\n        \"min\": 20,\n        \"max\": 230,\n        \"num_unique_values\": 92,\n        \"samples\": [\n          154,\n          45,\n          44\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Speed\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 29,\n        \"min\": 5,\n        \"max\": 180,\n        \"num_unique_values\": 108,\n        \"samples\": [\n          113,\n          50,\n          100\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Generation\",\n      \"properties\": {\n        \"dtype\": \"number\",\n        \"std\": 1,\n        \"min\": 1,\n        \"max\": 6,\n        \"num_unique_values\": 6,\n        \"samples\": [\n          1,\n          2,\n          6\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    },\n    {\n      \"column\": \"Legendary\",\n      \"properties\": {\n        \"dtype\": \"boolean\",\n        \"num_unique_values\": 2,\n        \"samples\": [\n          true,\n          false\n        ],\n        \"semantic_type\": \"\",\n        \"description\": \"\"\n      }\n    }\n  ]\n}"}},"metadata":{},"execution_count":4}]},{"cell_type":"code","execution_count":5,"metadata":{"id":"oiFhpUMPL0vu","executionInfo":{"status":"ok","timestamp":1721152073022,"user_tz":-120,"elapsed":4,"user":{"displayName":"David Arques","userId":"16424418859302897863"}}},"outputs":[],"source":["# Create a new column summing all the hypotesis columns:\n","df['Total_hypothesis'] = df[['HP', 'Attack', 'Defense', 'Sp. Atk', 'Sp. Def', 'Speed']].sum(axis=1)"]},{"cell_type":"code","source":["# Function to test results:\n","def test_total_results(row):\n","    if row['Total'] == row['Total_hypothesis']:\n","        return True\n","    else:\n","        return False"],"metadata":{"id":"Fs1YW9L_OG01","executionInfo":{"status":"ok","timestamp":1721152073022,"user_tz":-120,"elapsed":4,"user":{"displayName":"David Arques","userId":"16424418859302897863"}}},"execution_count":6,"outputs":[]},{"cell_type":"code","source":["# create new colum to tets results:\n","df['Test_Result'] = df.apply(test_total_results, axis=1)"],"metadata":{"id":"47Lj7BFjPJEO","executionInfo":{"status":"ok","timestamp":1721152073022,"user_tz":-120,"elapsed":4,"user":{"displayName":"David Arques","userId":"16424418859302897863"}}},"execution_count":7,"outputs":[]},{"cell_type":"code","source":["df['Test_Result'].value_counts() # 800/800 results are True so Hypotisis is correct"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"7trjSF9ZPUlW","executionInfo":{"status":"ok","timestamp":1721152073455,"user_tz":-120,"elapsed":8,"user":{"displayName":"David Arques","userId":"16424418859302897863"}},"outputId":"2221d6a2-2cb3-4bbc-9113-3c375cf74b5b"},"execution_count":8,"outputs":[{"output_type":"execute_result","data":{"text/plain":["Test_Result\n","True    800\n","Name: count, dtype: int64"]},"metadata":{},"execution_count":8}]},{"cell_type":"markdown","metadata":{"id":"mRnSBIquL0vu"},"source":["## Problem Solving Iteration 2\n","\n","Now that we have consolidated the abilities fields, we can update the problem statement. The new problem statement is:\n","\n","### Which pokemon type is most likely to have the highest `Total` value?\n","\n","In the updated problem statement, we assume there is a certain relationship between the `Total` and the pokemon type. But we have two *type* fields (`Type 1` and `Type 2`) that have string values. In data analysis, string fields have to be transformed to numerical format in order to be analyzed.\n","\n","In addition, keep in mind that `Type 1` always has a value but `Type 2` is sometimes empty (having the `NaN` value). Also, the pokemon type we choose may be either in `Type 1` or `Type 2`.\n","\n","Now our expectation is:\n","\n","#### `Type 1` and `Type 2` string variables need to be converted to numerical variables in order to identify the relationship between `Total` and the pokemon type.\n","\n","The information we need to collect is:\n","\n","#### How to convert two string variables to numerical?\n","\n","Let's address the first question first. You can use a method called **One Hot Encoding** which is frequently used in machine learning to encode categorical string variables to numerical. The idea is to gather all the possible string values in a categorical field and create a numerical field for each unique string value. Each of those numerical fields uses `1` and `0` to indicate whether the data record has the corresponding categorical value. A detailed explanation of One Hot Encoding can be found in [this article](https://hackernoon.com/what-is-one-hot-encoding-why-and-when-do-you-have-to-use-it-e3c6186d008f). You will formally learn it in Module 3.\n","\n","For instance, if a pokemon has `Type 1` as `Poison` and `Type 2` as `Fire`, then its `Poison` and `Fire` fields are `1` whereas all other fields are `0`. If a pokemon has `Type 1` as `Water` and `Type 2` as `NaN`, then its `Water` field is `1` whereas all other fields are `0`.\n","\n","#### In the next cell, use One Hot Encoding to encode `Type 1` and `Type 2`. Use the pokemon type values as the names of the numerical fields you create.\n","\n","The new numerical variables you create should look like below:\n","\n","![One Hot Encoding](../images/one-hot-encoding.png)"]},{"cell_type":"code","execution_count":9,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"Jj49f9uOL0vu","executionInfo":{"status":"ok","timestamp":1721152073455,"user_tz":-120,"elapsed":7,"user":{"displayName":"David Arques","userId":"16424418859302897863"}},"outputId":"144326b5-6213-41e6-91d4-ce5cf380d4bc"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["array(['Grass', 'Fire', 'Water', 'Bug', 'Normal', 'Poison', 'Electric',\n","       'Ground', 'Fairy', 'Fighting', 'Psychic', 'Rock', 'Ghost', 'Ice',\n","       'Dragon', 'Dark', 'Steel', 'Flying'], dtype=object)"]},"metadata":{},"execution_count":9}],"source":["# First check how many Type 1 unique are:\n","df['Type 1'].unique()"]},{"cell_type":"code","source":["df['Type 2'].nunique() # we have 18 unique types of pokemon"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"1c15GjLfQryc","executionInfo":{"status":"ok","timestamp":1721152073455,"user_tz":-120,"elapsed":6,"user":{"displayName":"David Arques","userId":"16424418859302897863"}},"outputId":"6c9fd23b-0414-46cf-b0a7-2025ac5bef7d"},"execution_count":10,"outputs":[{"output_type":"execute_result","data":{"text/plain":["18"]},"metadata":{},"execution_count":10}]},{"cell_type":"code","source":["pokemon_types = ['Grass', 'Fire', 'Water', 'Bug', 'Normal', 'Poison', 'Electric',\n","                 'Ground', 'Fairy', 'Fighting', 'Psychic', 'Rock', 'Ghost', 'Ice',\n","                 'Dragon', 'Dark', 'Steel', 'Flying']"],"metadata":{"id":"kIUfWsBuRpWS","executionInfo":{"status":"ok","timestamp":1721152073455,"user_tz":-120,"elapsed":5,"user":{"displayName":"David Arques","userId":"16424418859302897863"}}},"execution_count":11,"outputs":[]},{"cell_type":"code","source":["# Fill NaN values in Type 2\n","df['Type 2'].fillna(0, inplace=True)"],"metadata":{"id":"7MUPZS2mSXM1","executionInfo":{"status":"ok","timestamp":1721152073455,"user_tz":-120,"elapsed":5,"user":{"displayName":"David Arques","userId":"16424418859302897863"}}},"execution_count":12,"outputs":[]},{"cell_type":"code","source":["# Encoding pokemon types:\n","df_encoded = pd.get_dummies(df, columns=['Type 1', 'Type 2'], prefix='', prefix_sep='', dummy_na=False, dtype=int)"],"metadata":{"id":"cTKMab8zbZFd","executionInfo":{"status":"ok","timestamp":1721152073455,"user_tz":-120,"elapsed":5,"user":{"displayName":"David Arques","userId":"16424418859302897863"}}},"execution_count":13,"outputs":[]},{"cell_type":"code","source":["df_encoded.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":261},"id":"87KKo3YDcKb3","executionInfo":{"status":"ok","timestamp":1721152073455,"user_tz":-120,"elapsed":4,"user":{"displayName":"David Arques","userId":"16424418859302897863"}},"outputId":"e1048f57-cb3b-47c0-bbd4-1faff64df99a"},"execution_count":14,"outputs":[{"output_type":"execute_result","data":{"text/plain":["   #                   Name  Total  HP  Attack  Defense  Sp. Atk  Sp. Def  \\\n","0  1              Bulbasaur    318  45      49       49       65       65   \n","1  2                Ivysaur    405  60      62       63       80       80   \n","2  3               Venusaur    525  80      82       83      100      100   \n","3  3  VenusaurMega Venusaur    625  80     100      123      122      120   \n","4  4             Charmander    309  39      52       43       60       50   \n","\n","   Speed  Generation  Legendary  Total_hypothesis  Test_Result  Bug  Dark  \\\n","0     45           1      False               318         True    0     0   \n","1     60           1      False               405         True    0     0   \n","2     80           1      False               525         True    0     0   \n","3     80           1      False               625         True    0     0   \n","4     65           1      False               309         True    0     0   \n","\n","   Dragon  Electric  Fairy  Fighting  Fire  Flying  Ghost  Grass  Ground  Ice  \\\n","0       0         0      0         0     0       0      0      1       0    0   \n","1       0         0      0         0     0       0      0      1       0    0   \n","2       0         0      0         0     0       0      0      1       0    0   \n","3       0         0      0         0     0       0      0      1       0    0   \n","4       0         0      0         0     1       0      0      0       0    0   \n","\n","   Normal  Poison  Psychic  Rock  Steel  Water  0  Bug  Dark  Dragon  \\\n","0       0       0        0     0      0      0  0    0     0       0   \n","1       0       0        0     0      0      0  0    0     0       0   \n","2       0       0        0     0      0      0  0    0     0       0   \n","3       0       0        0     0      0      0  0    0     0       0   \n","4       0       0        0     0      0      0  1    0     0       0   \n","\n","   Electric  Fairy  Fighting  Fire  Flying  Ghost  Grass  Ground  Ice  Normal  \\\n","0         0      0         0     0       0      0      0       0    0       0   \n","1         0      0         0     0       0      0      0       0    0       0   \n","2         0      0         0     0       0      0      0       0    0       0   \n","3         0      0         0     0       0      0      0       0    0       0   \n","4         0      0         0     0       0      0      0       0    0       0   \n","\n","   Poison  Psychic  Rock  Steel  Water  \n","0       1        0     0      0      0  \n","1       1        0     0      0      0  \n","2       1        0     0      0      0  \n","3       1        0     0      0      0  \n","4       0        0     0      0      0  "],"text/html":["\n","  <div id=\"df-97b8f69b-8e95-4141-a7ab-8b2fa81c143c\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>#</th>\n","      <th>Name</th>\n","      <th>Total</th>\n","      <th>HP</th>\n","      <th>Attack</th>\n","      <th>Defense</th>\n","      <th>Sp. Atk</th>\n","      <th>Sp. Def</th>\n","      <th>Speed</th>\n","      <th>Generation</th>\n","      <th>Legendary</th>\n","      <th>Total_hypothesis</th>\n","      <th>Test_Result</th>\n","      <th>Bug</th>\n","      <th>Dark</th>\n","      <th>Dragon</th>\n","      <th>Electric</th>\n","      <th>Fairy</th>\n","      <th>Fighting</th>\n","      <th>Fire</th>\n","      <th>Flying</th>\n","      <th>Ghost</th>\n","      <th>Grass</th>\n","      <th>Ground</th>\n","      <th>Ice</th>\n","      <th>Normal</th>\n","      <th>Poison</th>\n","      <th>Psychic</th>\n","      <th>Rock</th>\n","      <th>Steel</th>\n","      <th>Water</th>\n","      <th>0</th>\n","      <th>Bug</th>\n","      <th>Dark</th>\n","      <th>Dragon</th>\n","      <th>Electric</th>\n","      <th>Fairy</th>\n","      <th>Fighting</th>\n","      <th>Fire</th>\n","      <th>Flying</th>\n","      <th>Ghost</th>\n","      <th>Grass</th>\n","      <th>Ground</th>\n","      <th>Ice</th>\n","      <th>Normal</th>\n","      <th>Poison</th>\n","      <th>Psychic</th>\n","      <th>Rock</th>\n","      <th>Steel</th>\n","      <th>Water</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>1</td>\n","      <td>Bulbasaur</td>\n","      <td>318</td>\n","      <td>45</td>\n","      <td>49</td>\n","      <td>49</td>\n","      <td>65</td>\n","      <td>65</td>\n","      <td>45</td>\n","      <td>1</td>\n","      <td>False</td>\n","      <td>318</td>\n","      <td>True</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>2</td>\n","      <td>Ivysaur</td>\n","      <td>405</td>\n","      <td>60</td>\n","      <td>62</td>\n","      <td>63</td>\n","      <td>80</td>\n","      <td>80</td>\n","      <td>60</td>\n","      <td>1</td>\n","      <td>False</td>\n","      <td>405</td>\n","      <td>True</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>3</td>\n","      <td>Venusaur</td>\n","      <td>525</td>\n","      <td>80</td>\n","      <td>82</td>\n","      <td>83</td>\n","      <td>100</td>\n","      <td>100</td>\n","      <td>80</td>\n","      <td>1</td>\n","      <td>False</td>\n","      <td>525</td>\n","      <td>True</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>3</td>\n","      <td>VenusaurMega Venusaur</td>\n","      <td>625</td>\n","      <td>80</td>\n","      <td>100</td>\n","      <td>123</td>\n","      <td>122</td>\n","      <td>120</td>\n","      <td>80</td>\n","      <td>1</td>\n","      <td>False</td>\n","      <td>625</td>\n","      <td>True</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>4</td>\n","      <td>Charmander</td>\n","      <td>309</td>\n","      <td>39</td>\n","      <td>52</td>\n","      <td>43</td>\n","      <td>60</td>\n","      <td>50</td>\n","      <td>65</td>\n","      <td>1</td>\n","      <td>False</td>\n","      <td>309</td>\n","      <td>True</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>1</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","      <td>0</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-97b8f69b-8e95-4141-a7ab-8b2fa81c143c')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-97b8f69b-8e95-4141-a7ab-8b2fa81c143c button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-97b8f69b-8e95-4141-a7ab-8b2fa81c143c');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-8a1f4693-9d06-4511-b7ae-31c42e746182\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-8a1f4693-9d06-4511-b7ae-31c42e746182')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-8a1f4693-9d06-4511-b7ae-31c42e746182 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"dataframe","variable_name":"df_encoded"}},"metadata":{},"execution_count":14}]},{"cell_type":"markdown","metadata":{"id":"vPwkv9B9L0vu"},"source":["## Problem Solving Iteration 3\n","\n","Now we have encoded the pokemon types, we will identify the relationship between `Total` and the encoded fields. Our expectation is:\n","\n","#### There are relationships between `Total` and the encoded pokemon type variables and we need to identify the correlations.\n","\n","The information we need to collect is:\n","\n","#### How to identify the relationship between `Total` and the encoded pokemon type fields?\n","\n","There are multiple ways to answer this question. The easiest way is to use correlation. In the cell below, calculate the correlation of `Total` to each of the encoded fields. Rank the correlations and identify the #1 pokemon type that is most likely to have the highest `Total`."]},{"cell_type":"code","source":["df_encoded.columns"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"I29LpzoDsz0L","executionInfo":{"status":"ok","timestamp":1721152795366,"user_tz":-120,"elapsed":331,"user":{"displayName":"David Arques","userId":"16424418859302897863"}},"outputId":"c8dd6ef3-b464-488b-ee7c-192eda53b0d7"},"execution_count":17,"outputs":[{"output_type":"execute_result","data":{"text/plain":["Index(['#', 'Name', 'Total', 'HP', 'Attack', 'Defense', 'Sp. Atk', 'Sp. Def',\n","       'Speed', 'Generation', 'Legendary', 'Total_hypothesis', 'Test_Result',\n","       'Bug', 'Dark', 'Dragon', 'Electric', 'Fairy', 'Fighting', 'Fire',\n","       'Flying', 'Ghost', 'Grass', 'Ground', 'Ice', 'Normal', 'Poison',\n","       'Psychic', 'Rock', 'Steel', 'Water', '0', 'Bug', 'Dark', 'Dragon',\n","       'Electric', 'Fairy', 'Fighting', 'Fire', 'Flying', 'Ghost', 'Grass',\n","       'Ground', 'Ice', 'Normal', 'Poison', 'Psychic', 'Rock', 'Steel',\n","       'Water'],\n","      dtype='object')"]},"metadata":{},"execution_count":17}]},{"cell_type":"code","execution_count":18,"metadata":{"id":"OkCmZKDIL0vu","executionInfo":{"status":"ok","timestamp":1721152883599,"user_tz":-120,"elapsed":293,"user":{"displayName":"David Arques","userId":"16424418859302897863"}}},"outputs":[],"source":["# Calculate correlations between Total and each encoded pokemon type\n","correlations = df_encoded[pokemon_types].corrwith(df_encoded['Total'])\n","\n","# Find the highest correlation to Total by type:\n","max_corr_type = correlations.idxmax()\n","max_corr_value = correlations[max_corr_type]"]},{"cell_type":"code","source":["max_corr_type"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":35},"id":"4xOBP7D8tOlt","executionInfo":{"status":"ok","timestamp":1721152915314,"user_tz":-120,"elapsed":286,"user":{"displayName":"David Arques","userId":"16424418859302897863"}},"outputId":"32ecf44c-3a64-49aa-fed0-adf284e4d3dc"},"execution_count":19,"outputs":[{"output_type":"execute_result","data":{"text/plain":["'Dragon'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{},"execution_count":19}]},{"cell_type":"code","source":["max_corr_value"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"kgNccRs-tWwe","executionInfo":{"status":"ok","timestamp":1721152927621,"user_tz":-120,"elapsed":273,"user":{"displayName":"David Arques","userId":"16424418859302897863"}},"outputId":"a8e01467-ce2c-4f01-85b2-5e6f9e95d31d"},"execution_count":20,"outputs":[{"output_type":"execute_result","data":{"text/plain":["Dragon    0.196532\n","Dragon    0.115240\n","dtype: float64"]},"metadata":{},"execution_count":20}]},{"cell_type":"markdown","metadata":{"id":"nPXMBdBGL0vv"},"source":["# Bonus Question\n","\n","Say now you can choose both `Type 1` and `Type 2` of the pokemon. In order to receive the best pokemon, which types will you choose?"]},{"cell_type":"code","execution_count":16,"metadata":{"id":"d6qCsvevL0vv","executionInfo":{"status":"ok","timestamp":1721152073456,"user_tz":-120,"elapsed":4,"user":{"displayName":"David Arques","userId":"16424418859302897863"}}},"outputs":[],"source":["# your code here"]}],"metadata":{"kernelspec":{"display_name":"Python 3","language":"python","name":"python3"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.6.9"},"colab":{"provenance":[]}},"nbformat":4,"nbformat_minor":0}